<?xml version="1.0" encoding="UTF-8"?>
<testsuite errors="0" failures="0" hostname="dhcp-10.15.208.168.stl.redhat.com" name="org.hibernate.test.id.MultipleHiLoPerTableGeneratorTest" tests="3" time="0.18" timestamp="2013-02-28T20:14:00">
  <properties />
  <testcase classname="org.hibernate.test.id.MultipleHiLoPerTableGeneratorTest" name="testAllParams" time="0.103" />
  <testcase classname="org.hibernate.test.id.MultipleHiLoPerTableGeneratorTest" name="testDistinctId" time="0.009" />
  <testcase classname="org.hibernate.test.id.MultipleHiLoPerTableGeneratorTest" name="testRollingBack" time="0.005" />
  <system-out><![CDATA[14:14:00,531  INFO CustomRunner:132 - BeforeClass: org.hibernate.test.id.MultipleHiLoPerTableGeneratorTest
14:14:00,533  INFO Configuration:706 - HHH000221: Reading mappings from resource: org/hibernate/test/id/Car.hbm.xml
14:14:00,562  INFO Configuration:706 - HHH000221: Reading mappings from resource: org/hibernate/test/id/Plane.hbm.xml
14:14:00,566  INFO Configuration:706 - HHH000221: Reading mappings from resource: org/hibernate/test/id/Radio.hbm.xml
14:14:00,573  INFO DriverManagerConnectionProviderImpl:99 - HHH000402: Using Hibernate built-in connection pool (not for production use!)
14:14:00,573  INFO DriverManagerConnectionProviderImpl:135 - HHH000115: Hibernate connection pool size: 5
14:14:00,573  INFO DriverManagerConnectionProviderImpl:138 - HHH000006: Autocommit mode: false
14:14:00,573  INFO DriverManagerConnectionProviderImpl:153 - HHH000401: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db1;DB_CLOSE_DELAY=-1;MVCC=TRUE]
14:14:00,574  INFO DriverManagerConnectionProviderImpl:158 - HHH000046: Connection properties: {user=sa}
14:14:00,575  INFO Dialect:103 - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
14:14:00,575  INFO LobCreatorBuilder:94 - HHH000423: Disabling contextual LOB creation as JDBC driver reported JDBC version [3] less than 4
14:14:00,575  INFO TransactionFactoryInitiator:66 - HHH000399: Using default transaction strategy (direct JDBC transactions)
14:14:00,576  INFO ASTQueryTranslatorFactory:48 - HHH000397: Using ASTQueryTranslatorFactory
14:14:00,576  WARN CachingRegionFactory:58 - CachingRegionFactory should be only used for testing.
14:14:00,584  INFO SchemaExport:343 - HHH000227: Running hbm2ddl schema export
14:14:00,585 DEBUG SchemaExport:353 - Import file not found: /import.sql
14:14:00,585 DEBUG SQL:104 - 
    drop table Car if exists
14:14:00,585 DEBUG SQL:104 - 
    drop table Plane if exists
14:14:00,585 DEBUG SQL:104 - 
    drop table Radio if exists
14:14:00,585 DEBUG SQL:104 - 
    drop table hibernate_sequences if exists
14:14:00,585 DEBUG SQL:104 - 
    drop table sequences if exists
14:14:00,586 DEBUG SQL:104 - 
    create table Car (
        id bigint not null,
        color varchar(255),
        primary key (id)
    )
14:14:00,586 DEBUG SQL:104 - 
    create table Plane (
        id bigint not null,
        nbrOfSeats integer,
        primary key (id)
    )
14:14:00,586 DEBUG SQL:104 - 
    create table Radio (
        id integer not null,
        frequency varchar(255),
        primary key (id)
    )
14:14:00,586 DEBUG SQL:104 - 
    create table hibernate_sequences (
         sequence_name varchar(255),
         sequence_next_hi_value integer 
    ) 
14:14:00,587 DEBUG SQL:104 - 
    create table sequences (
         name varchar(50),
         hi_value integer 
    ) 
14:14:00,587  INFO SchemaExport:405 - HHH000230: Schema export complete
14:14:00,588  WARN SessionFactoryImpl:1554 - HHH000008: JTASessionContext being used with JDBCTransactionFactory; auto-flush will not operate correctly with getCurrentSession()
14:14:00,588  INFO CustomRunner:139 - Test: testAllParams
14:14:00,686 DEBUG SQL:104 - 
    select
        hi_value 
    from
        sequences 
    where
        name = 'Radio' for update
            
14:14:00,687 DEBUG SQL:104 - 
    insert 
    into
        sequences
        (name, hi_value) 
    values
        ('Radio', ?)
14:14:00,687 DEBUG SQL:104 - 
    update
        sequences 
    set
        hi_value = ? 
    where
        hi_value = ? 
        and name = 'Radio'
14:14:00,688 DEBUG SQL:104 - 
    insert 
    into
        Radio
        (frequency, id) 
    values
        (?, ?)
14:14:00,688 DEBUG SQL:104 - 
    insert 
    into
        Radio
        (frequency, id) 
    values
        (?, ?)
14:14:00,689 DEBUG QueryTranslatorImpl:265 - parse() - HQL: delete from org.hibernate.test.id.Radio
14:14:00,690 DEBUG QueryTranslatorImpl:283 - --- HQL AST ---
 \-[DELETE] Node: 'delete'
    \-[FROM] Node: 'FROM'
       \-[RANGE] Node: 'RANGE'
          \-[DOT] Node: '.'
             +-[DOT] Node: '.'
             |  +-[DOT] Node: '.'
             |  |  +-[DOT] Node: '.'
             |  |  |  +-[IDENT] Node: 'org'
             |  |  |  \-[IDENT] Node: 'hibernate'
             |  |  \-[IDENT] Node: 'test'
             |  \-[IDENT] Node: 'id'
             \-[IDENT] Node: 'Radio'

14:14:00,690 DEBUG ErrorCounter:82 - throwQueryException() : no errors
14:14:00,690 DEBUG FromElement:157 - FromClause{level=1} : org.hibernate.test.id.Radio (<no alias>) -> radio0_
14:14:00,690 DEBUG QueryTranslatorImpl:252 - --- SQL AST ---
 \-[DELETE] DeleteStatement: 'delete'  querySpaces (Radio)
    \-[FROM] FromClause: 'FROM' FromClause{level=1, fromElementCounter=1, fromElements=1, fromElementByClassAlias=[], fromElementByTableAlias=[radio0_], fromElementsByPath=[], collectionJoinFromElementsByPath=[], impliedElements=[]}
       \-[FROM_FRAGMENT] FromElement: 'Radio' FromElement{explicit,not a collection join,not a fetch join,fetch non-lazy properties,classAlias=null,role=null,tableName=Radio,tableAlias=radio0_,origin=null,columns={,className=org.hibernate.test.id.Radio}}

14:14:00,691 DEBUG ErrorCounter:82 - throwQueryException() : no errors
14:14:00,691 DEBUG ErrorCounter:82 - throwQueryException() : no errors
14:14:00,691 DEBUG SQL:104 - 
    delete 
    from
        Radio
14:14:00,691  INFO CustomRunner:139 - Test: testDistinctId
14:14:00,693 DEBUG SQL:104 - 
    select
        sequence_next_hi_value 
    from
        hibernate_sequences 
    where
        sequence_name = 'Car' for update
            
14:14:00,694 DEBUG SQL:104 - 
    insert 
    into
        hibernate_sequences
        (sequence_name, sequence_next_hi_value) 
    values
        ('Car', ?)
14:14:00,694 DEBUG SQL:104 - 
    update
        hibernate_sequences 
    set
        sequence_next_hi_value = ? 
    where
        sequence_next_hi_value = ? 
        and sequence_name = 'Car'
14:14:00,694 DEBUG SQL:104 - 
    select
        sequence_next_hi_value 
    from
        hibernate_sequences 
    where
        sequence_name = 'Car' for update
            
14:14:00,694 DEBUG SQL:104 - 
    update
        hibernate_sequences 
    set
        sequence_next_hi_value = ? 
    where
        sequence_next_hi_value = ? 
        and sequence_name = 'Car'
14:14:00,694 DEBUG SQL:104 - 
    select
        sequence_next_hi_value 
    from
        hibernate_sequences 
    where
        sequence_name = 'Car' for update
            
14:14:00,695 DEBUG SQL:104 - 
    update
        hibernate_sequences 
    set
        sequence_next_hi_value = ? 
    where
        sequence_next_hi_value = ? 
        and sequence_name = 'Car'
14:14:00,695 DEBUG SQL:104 - 
    select
        sequence_next_hi_value 
    from
        hibernate_sequences 
    where
        sequence_name = 'Car' for update
            
14:14:00,695 DEBUG SQL:104 - 
    update
        hibernate_sequences 
    set
        sequence_next_hi_value = ? 
    where
        sequence_next_hi_value = ? 
        and sequence_name = 'Car'
14:14:00,695 DEBUG SQL:104 - 
    select
        sequence_next_hi_value 
    from
        hibernate_sequences 
    where
        sequence_name = 'Car' for update
            
14:14:00,695 DEBUG SQL:104 - 
    update
        hibernate_sequences 
    set
        sequence_next_hi_value = ? 
    where
        sequence_next_hi_value = ? 
        and sequence_name = 'Car'
14:14:00,695 DEBUG SQL:104 - 
    select
        sequence_next_hi_value 
    from
        hibernate_sequences 
    where
        sequence_name = 'Car' for update
            
14:14:00,696 DEBUG SQL:104 - 
    update
        hibernate_sequences 
    set
        sequence_next_hi_value = ? 
    where
        sequence_next_hi_value = ? 
        and sequence_name = 'Car'
14:14:00,696 DEBUG SQL:104 - 
    select
        sequence_next_hi_value 
    from
        hibernate_sequences 
    where
        sequence_name = 'Car' for update
            
14:14:00,696 DEBUG SQL:104 - 
    update
        hibernate_sequences 
    set
        sequence_next_hi_value = ? 
    where
        sequence_next_hi_value = ? 
        and sequence_name = 'Car'
14:14:00,696 DEBUG SQL:104 - 
    select
        sequence_next_hi_value 
    from
        hibernate_sequences 
    where
        sequence_name = 'Car' for update
            
14:14:00,696 DEBUG SQL:104 - 
    update
        hibernate_sequences 
    set
        sequence_next_hi_value = ? 
    where
        sequence_next_hi_value = ? 
        and sequence_name = 'Car'
14:14:00,696 DEBUG SQL:104 - 
    select
        sequence_next_hi_value 
    from
        hibernate_sequences 
    where
        sequence_name = 'Car' for update
            
14:14:00,696 DEBUG SQL:104 - 
    update
        hibernate_sequences 
    set
        sequence_next_hi_value = ? 
    where
        sequence_next_hi_value = ? 
        and sequence_name = 'Car'
14:14:00,697 DEBUG SQL:104 - 
    insert 
    into
        Car
        (color, id) 
    values
        (?, ?)
14:14:00,698 DEBUG SQL:104 - 
    insert 
    into
        Car
        (color, id) 
    values
        (?, ?)
14:14:00,698 DEBUG SQL:104 - 
    insert 
    into
        Car
        (color, id) 
    values
        (?, ?)
14:14:00,698 DEBUG SQL:104 - 
    insert 
    into
        Car
        (color, id) 
    values
        (?, ?)
14:14:00,698 DEBUG SQL:104 - 
    insert 
    into
        Car
        (color, id) 
    values
        (?, ?)
14:14:00,698 DEBUG SQL:104 - 
    insert 
    into
        Car
        (color, id) 
    values
        (?, ?)
14:14:00,699 DEBUG SQL:104 - 
    insert 
    into
        Car
        (color, id) 
    values
        (?, ?)
14:14:00,699 DEBUG SQL:104 - 
    insert 
    into
        Car
        (color, id) 
    values
        (?, ?)
14:14:00,700 DEBUG QueryTranslatorImpl:265 - parse() - HQL: delete from org.hibernate.test.id.Car
14:14:00,700 DEBUG QueryTranslatorImpl:283 - --- HQL AST ---
 \-[DELETE] Node: 'delete'
    \-[FROM] Node: 'FROM'
       \-[RANGE] Node: 'RANGE'
          \-[DOT] Node: '.'
             +-[DOT] Node: '.'
             |  +-[DOT] Node: '.'
             |  |  +-[DOT] Node: '.'
             |  |  |  +-[IDENT] Node: 'org'
             |  |  |  \-[IDENT] Node: 'hibernate'
             |  |  \-[IDENT] Node: 'test'
             |  \-[IDENT] Node: 'id'
             \-[IDENT] Node: 'Car'

14:14:00,700 DEBUG ErrorCounter:82 - throwQueryException() : no errors
14:14:00,700 DEBUG FromElement:157 - FromClause{level=1} : org.hibernate.test.id.Car (<no alias>) -> car0_
14:14:00,701 DEBUG QueryTranslatorImpl:252 - --- SQL AST ---
 \-[DELETE] DeleteStatement: 'delete'  querySpaces (Car)
    \-[FROM] FromClause: 'FROM' FromClause{level=1, fromElementCounter=1, fromElements=1, fromElementByClassAlias=[], fromElementByTableAlias=[car0_], fromElementsByPath=[], collectionJoinFromElementsByPath=[], impliedElements=[]}
       \-[FROM_FRAGMENT] FromElement: 'Car' FromElement{explicit,not a collection join,not a fetch join,fetch non-lazy properties,classAlias=null,role=null,tableName=Car,tableAlias=car0_,origin=null,columns={,className=org.hibernate.test.id.Car}}

14:14:00,701 DEBUG ErrorCounter:82 - throwQueryException() : no errors
14:14:00,701 DEBUG ErrorCounter:82 - throwQueryException() : no errors
14:14:00,701 DEBUG SQL:104 - 
    delete 
    from
        Car
14:14:00,702  INFO CustomRunner:139 - Test: testRollingBack
14:14:00,702 DEBUG SQL:104 - 
    select
        sequence_next_hi_value 
    from
        hibernate_sequences 
    where
        sequence_name = 'Car' for update
            
14:14:00,703 DEBUG SQL:104 - 
    update
        hibernate_sequences 
    set
        sequence_next_hi_value = ? 
    where
        sequence_next_hi_value = ? 
        and sequence_name = 'Car'
14:14:00,703 DEBUG SQL:104 - 
    select
        sequence_next_hi_value 
    from
        hibernate_sequences 
    where
        sequence_name = 'Car' for update
            
14:14:00,703 DEBUG SQL:104 - 
    update
        hibernate_sequences 
    set
        sequence_next_hi_value = ? 
    where
        sequence_next_hi_value = ? 
        and sequence_name = 'Car'
14:14:00,703 DEBUG SQL:104 - 
    select
        sequence_next_hi_value 
    from
        hibernate_sequences 
    where
        sequence_name = 'Car' for update
            
14:14:00,704 DEBUG SQL:104 - 
    update
        hibernate_sequences 
    set
        sequence_next_hi_value = ? 
    where
        sequence_next_hi_value = ? 
        and sequence_name = 'Car'
14:14:00,704 DEBUG SQL:104 - 
    select
        sequence_next_hi_value 
    from
        hibernate_sequences 
    where
        sequence_name = 'Car' for update
            
14:14:00,704 DEBUG SQL:104 - 
    update
        hibernate_sequences 
    set
        sequence_next_hi_value = ? 
    where
        sequence_next_hi_value = ? 
        and sequence_name = 'Car'
14:14:00,704 DEBUG SQL:104 - 
    insert 
    into
        Car
        (color, id) 
    values
        (?, ?)
14:14:00,705 DEBUG QueryTranslatorImpl:265 - parse() - HQL: delete org.hibernate.test.id.Car
14:14:00,705 DEBUG QueryTranslatorImpl:283 - --- HQL AST ---
 \-[DELETE] Node: 'delete'
    \-[FROM] Node: 'FROM'
       \-[RANGE] Node: 'RANGE'
          \-[DOT] Node: '.'
             +-[DOT] Node: '.'
             |  +-[DOT] Node: '.'
             |  |  +-[DOT] Node: '.'
             |  |  |  +-[IDENT] Node: 'org'
             |  |  |  \-[IDENT] Node: 'hibernate'
             |  |  \-[IDENT] Node: 'test'
             |  \-[IDENT] Node: 'id'
             \-[IDENT] Node: 'Car'

14:14:00,705 DEBUG ErrorCounter:82 - throwQueryException() : no errors
14:14:00,706 DEBUG FromElement:157 - FromClause{level=1} : org.hibernate.test.id.Car (<no alias>) -> car0_
14:14:00,706 DEBUG QueryTranslatorImpl:252 - --- SQL AST ---
 \-[DELETE] DeleteStatement: 'delete'  querySpaces (Car)
    \-[FROM] FromClause: 'FROM' FromClause{level=1, fromElementCounter=1, fromElements=1, fromElementByClassAlias=[], fromElementByTableAlias=[car0_], fromElementsByPath=[], collectionJoinFromElementsByPath=[], impliedElements=[]}
       \-[FROM_FRAGMENT] FromElement: 'Car' FromElement{explicit,not a collection join,not a fetch join,fetch non-lazy properties,classAlias=null,role=null,tableName=Car,tableAlias=car0_,origin=null,columns={,className=org.hibernate.test.id.Car}}

14:14:00,706 DEBUG ErrorCounter:82 - throwQueryException() : no errors
14:14:00,706 DEBUG ErrorCounter:82 - throwQueryException() : no errors
14:14:00,706 DEBUG SQL:104 - 
    delete 
    from
        Car
14:14:00,707  INFO SchemaExport:343 - HHH000227: Running hbm2ddl schema export
14:14:00,707 DEBUG SchemaExport:353 - Import file not found: /import.sql
14:14:00,707 DEBUG SQL:104 - 
    drop table Car if exists
14:14:00,708 DEBUG SQL:104 - 
    drop table Plane if exists
14:14:00,708 DEBUG SQL:104 - 
    drop table Radio if exists
14:14:00,708 DEBUG SQL:104 - 
    drop table hibernate_sequences if exists
14:14:00,708 DEBUG SQL:104 - 
    drop table sequences if exists
14:14:00,708  INFO SchemaExport:405 - HHH000230: Schema export complete
14:14:00,709  INFO DriverManagerConnectionProviderImpl:162 - HHH000030: Cleaning up connection pool [jdbc:h2:mem:db1;DB_CLOSE_DELAY=-1;MVCC=TRUE]
]]></system-out>
  <system-err><![CDATA[]]></system-err>
</testsuite>
