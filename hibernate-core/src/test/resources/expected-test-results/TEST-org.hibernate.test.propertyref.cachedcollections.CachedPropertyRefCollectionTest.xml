<?xml version="1.0" encoding="UTF-8"?>
<testsuite errors="0" failures="0" hostname="dhcp-10.15.208.168.stl.redhat.com" name="org.hibernate.test.propertyref.cachedcollections.CachedPropertyRefCollectionTest" tests="1" time="0.066" timestamp="2013-02-28T20:17:46">
  <properties />
  <testcase classname="org.hibernate.test.propertyref.cachedcollections.CachedPropertyRefCollectionTest" name="testRetrievalOfCachedCollectionWithPropertyRefKey" time="0.036" />
  <system-out><![CDATA[14:17:46,755  INFO CustomRunner:132 - BeforeClass: org.hibernate.test.propertyref.cachedcollections.CachedPropertyRefCollectionTest
14:17:46,757  INFO Configuration:706 - HHH000221: Reading mappings from resource: org/hibernate/test/propertyref/cachedcollections/Mappings.hbm.xml
14:17:46,766  INFO DriverManagerConnectionProviderImpl:99 - HHH000402: Using Hibernate built-in connection pool (not for production use!)
14:17:46,767  INFO DriverManagerConnectionProviderImpl:135 - HHH000115: Hibernate connection pool size: 5
14:17:46,767  INFO DriverManagerConnectionProviderImpl:138 - HHH000006: Autocommit mode: false
14:17:46,767  INFO DriverManagerConnectionProviderImpl:153 - HHH000401: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db1;DB_CLOSE_DELAY=-1;MVCC=TRUE]
14:17:46,767  INFO DriverManagerConnectionProviderImpl:158 - HHH000046: Connection properties: {user=sa}
14:17:46,768  INFO Dialect:103 - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
14:17:46,769  INFO LobCreatorBuilder:94 - HHH000423: Disabling contextual LOB creation as JDBC driver reported JDBC version [3] less than 4
14:17:46,769  INFO TransactionFactoryInitiator:66 - HHH000399: Using default transaction strategy (direct JDBC transactions)
14:17:46,770  INFO ASTQueryTranslatorFactory:48 - HHH000397: Using ASTQueryTranslatorFactory
14:17:46,771  WARN CachingRegionFactory:58 - CachingRegionFactory should be only used for testing.
14:17:46,777  INFO SchemaExport:343 - HHH000227: Running hbm2ddl schema export
14:17:46,778 DEBUG SchemaExport:353 - Import file not found: /import.sql
14:17:46,778 DEBUG SQL:104 - 
    drop table GroupTable if exists
14:17:46,778 DEBUG SQL:104 - 
    drop table ManagedObject if exists
14:17:46,778 DEBUG SQL:104 - 
    create table GroupTable (
        NAME varchar(255) not null,
        MEMBERNAME varchar(255) not null,
        primary key (NAME, MEMBERNAME)
    )
14:17:46,778 DEBUG SQL:104 - 
    create table ManagedObject (
        MOID bigint not null,
        VERSION integer not null,
        NAME varchar(100) not null,
        DISPLAYNAME varchar(100) not null,
        primary key (MOID)
    )
14:17:46,779 DEBUG SQL:104 - 
    alter table ManagedObject 
        add constraint _UniqueKey unique (NAME)
14:17:46,779  INFO SchemaExport:405 - HHH000230: Schema export complete
14:17:46,779  WARN SessionFactoryImpl:1554 - HHH000008: JTASessionContext being used with JDBCTransactionFactory; auto-flush will not operate correctly with getCurrentSession()
14:17:46,780  INFO CustomRunner:139 - Test: testRetrievalOfCachedCollectionWithPropertyRefKey
14:17:46,780 DEBUG SQL:104 - 
    select
        max(MOID) 
    from
        ManagedObject
14:17:46,781 DEBUG AbstractReadWriteAccessStrategy:93 - locking key[org.hibernate.test.propertyref.cachedcollections.ManagedObject.members#test] in region[hibernate.test.org.hibernate.test.propertyref.cachedcollections.ManagedObject.members]
14:17:46,781 DEBUG BaseGeneralDataRegion:46 - Cache[hibernate.test.org.hibernate.test.propertyref.cachedcollections.ManagedObject.members] lookup : key[org.hibernate.test.propertyref.cachedcollections.ManagedObject.members#test]
14:17:46,781 DEBUG BaseGeneralDataRegion:59 - Caching[hibernate.test.org.hibernate.test.propertyref.cachedcollections.ManagedObject.members] : [org.hibernate.test.propertyref.cachedcollections.ManagedObject.members#test] -> [Lock Source-UUID:20e6e5cb-e9cb-4f02-a4c3-f63e8c267af8 Lock-ID:0]
14:17:46,782 DEBUG SQL:104 - 
    insert 
    into
        ManagedObject
        (VERSION, NAME, DISPLAYNAME, MOID) 
    values
        (?, ?, ?, ?)
14:17:46,782 DEBUG SQL:104 - 
    insert 
    into
        GroupTable
        (NAME, MEMBERNAME) 
    values
        (?, ?)
14:17:46,785 DEBUG BaseGeneralDataRegion:46 - Cache[hibernate.test.org.hibernate.test.propertyref.cachedcollections.ManagedObject] lookup : key[org.hibernate.test.propertyref.cachedcollections.ManagedObject#1]
14:17:46,785 DEBUG BaseGeneralDataRegion:59 - Caching[hibernate.test.org.hibernate.test.propertyref.cachedcollections.ManagedObject] : [org.hibernate.test.propertyref.cachedcollections.ManagedObject#1] -> [org.hibernate.testing.cache.AbstractReadWriteAccessStrategy$Item@ffdab17]
14:17:46,785 DEBUG AbstractReadWriteAccessStrategy:116 - unlocking key[org.hibernate.test.propertyref.cachedcollections.ManagedObject.members#test] in region[hibernate.test.org.hibernate.test.propertyref.cachedcollections.ManagedObject.members]
14:17:46,785 DEBUG BaseGeneralDataRegion:46 - Cache[hibernate.test.org.hibernate.test.propertyref.cachedcollections.ManagedObject.members] lookup : key[org.hibernate.test.propertyref.cachedcollections.ManagedObject.members#test]
14:17:46,786 DEBUG BaseGeneralDataRegion:52 - Cache[hibernate.test.org.hibernate.test.propertyref.cachedcollections.ManagedObject.members] hit: org.hibernate.test.propertyref.cachedcollections.ManagedObject.members#test
14:17:46,786 DEBUG BaseGeneralDataRegion:59 - Caching[hibernate.test.org.hibernate.test.propertyref.cachedcollections.ManagedObject.members] : [org.hibernate.test.propertyref.cachedcollections.ManagedObject.members#test] -> [Lock Source-UUID:20e6e5cb-e9cb-4f02-a4c3-f63e8c267af8 Lock-ID:0]
14:17:46,786 DEBUG AbstractReadWriteAccessStrategy:34 - getting key[org.hibernate.test.propertyref.cachedcollections.ManagedObject#1] from region[hibernate.test.org.hibernate.test.propertyref.cachedcollections.ManagedObject]
14:17:46,786 DEBUG BaseGeneralDataRegion:46 - Cache[hibernate.test.org.hibernate.test.propertyref.cachedcollections.ManagedObject] lookup : key[org.hibernate.test.propertyref.cachedcollections.ManagedObject#1]
14:17:46,786 DEBUG BaseGeneralDataRegion:52 - Cache[hibernate.test.org.hibernate.test.propertyref.cachedcollections.ManagedObject] hit: org.hibernate.test.propertyref.cachedcollections.ManagedObject#1
14:17:46,786 DEBUG AbstractReadWriteAccessStrategy:41 - hit key[org.hibernate.test.propertyref.cachedcollections.ManagedObject#1] in region[hibernate.test.org.hibernate.test.propertyref.cachedcollections.ManagedObject]
14:17:46,787 DEBUG AbstractReadWriteAccessStrategy:34 - getting key[org.hibernate.test.propertyref.cachedcollections.ManagedObject.members#test] from region[hibernate.test.org.hibernate.test.propertyref.cachedcollections.ManagedObject.members]
14:17:46,787 DEBUG BaseGeneralDataRegion:46 - Cache[hibernate.test.org.hibernate.test.propertyref.cachedcollections.ManagedObject.members] lookup : key[org.hibernate.test.propertyref.cachedcollections.ManagedObject.members#test]
14:17:46,787 DEBUG BaseGeneralDataRegion:52 - Cache[hibernate.test.org.hibernate.test.propertyref.cachedcollections.ManagedObject.members] hit: org.hibernate.test.propertyref.cachedcollections.ManagedObject.members#test
14:17:46,787 DEBUG AbstractReadWriteAccessStrategy:48 - hit key[org.hibernate.test.propertyref.cachedcollections.ManagedObject.members#test] in region[hibernate.test.org.hibernate.test.propertyref.cachedcollections.ManagedObject.members], but it is unreadable
14:17:46,787 DEBUG SQL:104 - 
    select
        members0_.NAME as NAME1_0_,
        members0_.MEMBERNAME as MEMBERNAME0_0_ 
    from
        GroupTable members0_ 
    where
        members0_.NAME=?
14:17:46,787 DEBUG SQL:104 - 
    select
        managedobj_.MOID as MOID1_ 
    from
        ManagedObject managedobj_ 
    where
        managedobj_.NAME=?
14:17:46,795 DEBUG SQL:104 - 
    select
        managedobj_.MOID as MOID1_ 
    from
        ManagedObject managedobj_ 
    where
        managedobj_.NAME=?
14:17:46,795 DEBUG AbstractReadWriteAccessStrategy:68 - putting key[org.hibernate.test.propertyref.cachedcollections.ManagedObject.members#test] -> value[CollectionCacheEntry[members]] into region[hibernate.test.org.hibernate.test.propertyref.cachedcollections.ManagedObject.members]
14:17:46,795 DEBUG BaseGeneralDataRegion:46 - Cache[hibernate.test.org.hibernate.test.propertyref.cachedcollections.ManagedObject.members] lookup : key[org.hibernate.test.propertyref.cachedcollections.ManagedObject.members#test]
14:17:46,795 DEBUG BaseGeneralDataRegion:52 - Cache[hibernate.test.org.hibernate.test.propertyref.cachedcollections.ManagedObject.members] hit: org.hibernate.test.propertyref.cachedcollections.ManagedObject.members#test
14:17:46,796 DEBUG AbstractReadWriteAccessStrategy:73 - putting key[org.hibernate.test.propertyref.cachedcollections.ManagedObject.members#test] -> value[CollectionCacheEntry[members]] into region[hibernate.test.org.hibernate.test.propertyref.cachedcollections.ManagedObject.members] success
14:17:46,796 DEBUG BaseGeneralDataRegion:59 - Caching[hibernate.test.org.hibernate.test.propertyref.cachedcollections.ManagedObject.members] : [org.hibernate.test.propertyref.cachedcollections.ManagedObject.members#test] -> [org.hibernate.testing.cache.AbstractReadWriteAccessStrategy$Item@76e45624]
14:17:46,796  WARN SessionImpl:1695 - Session.byNaturalId(org.hibernate.test.propertyref.cachedcollections.ManagedObject) should be used for naturalId queries instead of Restrictions.naturalId() from a Criteria
14:17:46,796 DEBUG SQL:104 - 
    select
        managedobj_.MOID as MOID1_ 
    from
        ManagedObject managedobj_ 
    where
        managedobj_.NAME=?
14:17:46,797 DEBUG AbstractReadWriteAccessStrategy:34 - getting key[org.hibernate.test.propertyref.cachedcollections.ManagedObject#1] from region[hibernate.test.org.hibernate.test.propertyref.cachedcollections.ManagedObject]
14:17:46,797 DEBUG BaseGeneralDataRegion:46 - Cache[hibernate.test.org.hibernate.test.propertyref.cachedcollections.ManagedObject] lookup : key[org.hibernate.test.propertyref.cachedcollections.ManagedObject#1]
14:17:46,797 DEBUG BaseGeneralDataRegion:52 - Cache[hibernate.test.org.hibernate.test.propertyref.cachedcollections.ManagedObject] hit: org.hibernate.test.propertyref.cachedcollections.ManagedObject#1
14:17:46,797 DEBUG AbstractReadWriteAccessStrategy:41 - hit key[org.hibernate.test.propertyref.cachedcollections.ManagedObject#1] in region[hibernate.test.org.hibernate.test.propertyref.cachedcollections.ManagedObject]
14:17:46,805 DEBUG AbstractReadWriteAccessStrategy:34 - getting key[org.hibernate.test.propertyref.cachedcollections.ManagedObject.members#test] from region[hibernate.test.org.hibernate.test.propertyref.cachedcollections.ManagedObject.members]
14:17:46,805 DEBUG BaseGeneralDataRegion:46 - Cache[hibernate.test.org.hibernate.test.propertyref.cachedcollections.ManagedObject.members] lookup : key[org.hibernate.test.propertyref.cachedcollections.ManagedObject.members#test]
14:17:46,805 DEBUG BaseGeneralDataRegion:52 - Cache[hibernate.test.org.hibernate.test.propertyref.cachedcollections.ManagedObject.members] hit: org.hibernate.test.propertyref.cachedcollections.ManagedObject.members#test
14:17:46,805 DEBUG AbstractReadWriteAccessStrategy:41 - hit key[org.hibernate.test.propertyref.cachedcollections.ManagedObject.members#test] in region[hibernate.test.org.hibernate.test.propertyref.cachedcollections.ManagedObject.members]
14:17:46,805 DEBUG SQL:104 - 
    select
        managedobj_.MOID as MOID1_ 
    from
        ManagedObject managedobj_ 
    where
        managedobj_.NAME=?
14:17:46,806 DEBUG AbstractReadWriteAccessStrategy:93 - locking key[org.hibernate.test.propertyref.cachedcollections.ManagedObject.members#test] in region[hibernate.test.org.hibernate.test.propertyref.cachedcollections.ManagedObject.members]
14:17:46,806 DEBUG BaseGeneralDataRegion:46 - Cache[hibernate.test.org.hibernate.test.propertyref.cachedcollections.ManagedObject.members] lookup : key[org.hibernate.test.propertyref.cachedcollections.ManagedObject.members#test]
14:17:46,806 DEBUG BaseGeneralDataRegion:52 - Cache[hibernate.test.org.hibernate.test.propertyref.cachedcollections.ManagedObject.members] hit: org.hibernate.test.propertyref.cachedcollections.ManagedObject.members#test
14:17:46,806 DEBUG BaseGeneralDataRegion:59 - Caching[hibernate.test.org.hibernate.test.propertyref.cachedcollections.ManagedObject.members] : [org.hibernate.test.propertyref.cachedcollections.ManagedObject.members#test] -> [Lock Source-UUID:20e6e5cb-e9cb-4f02-a4c3-f63e8c267af8 Lock-ID:1]
14:17:46,806 DEBUG SQL:104 - 
    delete 
    from
        GroupTable 
    where
        NAME=?
14:17:46,807 DEBUG AbstractReadWriteAccessStrategy:93 - locking key[org.hibernate.test.propertyref.cachedcollections.ManagedObject#1] in region[hibernate.test.org.hibernate.test.propertyref.cachedcollections.ManagedObject]
14:17:46,807 DEBUG BaseGeneralDataRegion:46 - Cache[hibernate.test.org.hibernate.test.propertyref.cachedcollections.ManagedObject] lookup : key[org.hibernate.test.propertyref.cachedcollections.ManagedObject#1]
14:17:46,807 DEBUG BaseGeneralDataRegion:52 - Cache[hibernate.test.org.hibernate.test.propertyref.cachedcollections.ManagedObject] hit: org.hibernate.test.propertyref.cachedcollections.ManagedObject#1
14:17:46,807 DEBUG BaseGeneralDataRegion:59 - Caching[hibernate.test.org.hibernate.test.propertyref.cachedcollections.ManagedObject] : [org.hibernate.test.propertyref.cachedcollections.ManagedObject#1] -> [Lock Source-UUID:85abaaa3-4865-41c8-a329-dcf0b2f84b0e Lock-ID:0]
14:17:46,807 DEBUG SQL:104 - 
    delete 
    from
        ManagedObject 
    where
        MOID=? 
        and VERSION=?
14:17:46,815 DEBUG AbstractReadWriteAccessStrategy:116 - unlocking key[org.hibernate.test.propertyref.cachedcollections.ManagedObject.members#test] in region[hibernate.test.org.hibernate.test.propertyref.cachedcollections.ManagedObject.members]
14:17:46,815 DEBUG BaseGeneralDataRegion:46 - Cache[hibernate.test.org.hibernate.test.propertyref.cachedcollections.ManagedObject.members] lookup : key[org.hibernate.test.propertyref.cachedcollections.ManagedObject.members#test]
14:17:46,815 DEBUG BaseGeneralDataRegion:52 - Cache[hibernate.test.org.hibernate.test.propertyref.cachedcollections.ManagedObject.members] hit: org.hibernate.test.propertyref.cachedcollections.ManagedObject.members#test
14:17:46,816 DEBUG BaseGeneralDataRegion:59 - Caching[hibernate.test.org.hibernate.test.propertyref.cachedcollections.ManagedObject.members] : [org.hibernate.test.propertyref.cachedcollections.ManagedObject.members#test] -> [Lock Source-UUID:20e6e5cb-e9cb-4f02-a4c3-f63e8c267af8 Lock-ID:1]
14:17:46,816 DEBUG AbstractReadWriteAccessStrategy:116 - unlocking key[org.hibernate.test.propertyref.cachedcollections.ManagedObject#1] in region[hibernate.test.org.hibernate.test.propertyref.cachedcollections.ManagedObject]
14:17:46,816 DEBUG BaseGeneralDataRegion:46 - Cache[hibernate.test.org.hibernate.test.propertyref.cachedcollections.ManagedObject] lookup : key[org.hibernate.test.propertyref.cachedcollections.ManagedObject#1]
14:17:46,816 DEBUG BaseGeneralDataRegion:52 - Cache[hibernate.test.org.hibernate.test.propertyref.cachedcollections.ManagedObject] hit: org.hibernate.test.propertyref.cachedcollections.ManagedObject#1
14:17:46,816 DEBUG BaseGeneralDataRegion:59 - Caching[hibernate.test.org.hibernate.test.propertyref.cachedcollections.ManagedObject] : [org.hibernate.test.propertyref.cachedcollections.ManagedObject#1] -> [Lock Source-UUID:85abaaa3-4865-41c8-a329-dcf0b2f84b0e Lock-ID:0]
14:17:46,816  INFO SchemaExport:343 - HHH000227: Running hbm2ddl schema export
14:17:46,817 DEBUG SchemaExport:353 - Import file not found: /import.sql
14:17:46,817 DEBUG SQL:104 - 
    drop table GroupTable if exists
14:17:46,817 DEBUG SQL:104 - 
    drop table ManagedObject if exists
14:17:46,818  INFO SchemaExport:405 - HHH000230: Schema export complete
14:17:46,818  INFO DriverManagerConnectionProviderImpl:162 - HHH000030: Cleaning up connection pool [jdbc:h2:mem:db1;DB_CLOSE_DELAY=-1;MVCC=TRUE]
]]></system-out>
  <system-err><![CDATA[]]></system-err>
</testsuite>
