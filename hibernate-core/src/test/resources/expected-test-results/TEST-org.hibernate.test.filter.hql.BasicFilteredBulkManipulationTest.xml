<?xml version="1.0" encoding="UTF-8"?>
<testsuite errors="0" failures="0" hostname="dhcp-10.15.208.168.stl.redhat.com" name="org.hibernate.test.filter.hql.BasicFilteredBulkManipulationTest" tests="2" time="0.115" timestamp="2013-02-28T20:12:31">
  <properties />
  <testcase classname="org.hibernate.test.filter.hql.BasicFilteredBulkManipulationTest" name="testBasicFilteredHqlDelete" time="0.04" />
  <testcase classname="org.hibernate.test.filter.hql.BasicFilteredBulkManipulationTest" name="testBasicFilteredHqlUpdate" time="0.031" />
  <system-out><![CDATA[14:12:31,642  INFO CustomRunner:132 - BeforeClass: org.hibernate.test.filter.hql.BasicFilteredBulkManipulationTest
14:12:31,644  INFO Configuration:706 - HHH000221: Reading mappings from resource: org/hibernate/test/filter/hql/filter-defs.hbm.xml
14:12:31,657  INFO Configuration:706 - HHH000221: Reading mappings from resource: org/hibernate/test/filter/hql/Basic.hbm.xml
14:12:31,663  INFO DriverManagerConnectionProviderImpl:99 - HHH000402: Using Hibernate built-in connection pool (not for production use!)
14:12:31,663  INFO DriverManagerConnectionProviderImpl:135 - HHH000115: Hibernate connection pool size: 5
14:12:31,663  INFO DriverManagerConnectionProviderImpl:138 - HHH000006: Autocommit mode: false
14:12:31,663  INFO DriverManagerConnectionProviderImpl:153 - HHH000401: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db1;DB_CLOSE_DELAY=-1;MVCC=TRUE]
14:12:31,664  INFO DriverManagerConnectionProviderImpl:158 - HHH000046: Connection properties: {user=sa}
14:12:31,664  INFO Dialect:103 - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
14:12:31,665  INFO LobCreatorBuilder:94 - HHH000423: Disabling contextual LOB creation as JDBC driver reported JDBC version [3] less than 4
14:12:31,665  INFO TransactionFactoryInitiator:66 - HHH000399: Using default transaction strategy (direct JDBC transactions)
14:12:31,666  INFO ASTQueryTranslatorFactory:48 - HHH000397: Using ASTQueryTranslatorFactory
14:12:31,666  WARN CachingRegionFactory:58 - CachingRegionFactory should be only used for testing.
14:12:31,673  INFO SchemaExport:343 - HHH000227: Running hbm2ddl schema export
14:12:31,674 DEBUG SchemaExport:353 - Import file not found: /import.sql
14:12:31,674 DEBUG SQL:104 - 
    drop table FILTER_HQL_PERSON if exists
14:12:31,674 DEBUG SQL:104 - 
    create table FILTER_HQL_PERSON (
        ID bigint not null,
        name varchar(255),
        SEX_CODE char(255),
        primary key (ID)
    )
14:12:31,675  INFO SchemaExport:405 - HHH000230: Schema export complete
14:12:31,675  WARN SessionFactoryImpl:1554 - HHH000008: JTASessionContext being used with JDBCTransactionFactory; auto-flush will not operate correctly with getCurrentSession()
14:12:31,675  INFO CustomRunner:139 - Test: testBasicFilteredHqlDelete
14:12:31,683 DEBUG SQL:104 - 
    select
        max(ID) 
    from
        FILTER_HQL_PERSON
14:12:31,684 DEBUG SQL:104 - 
    insert 
    into
        FILTER_HQL_PERSON
        (name, SEX_CODE, ID) 
    values
        (?, ?, ?)
14:12:31,684 DEBUG SQL:104 - 
    insert 
    into
        FILTER_HQL_PERSON
        (name, SEX_CODE, ID) 
    values
        (?, ?, ?)
14:12:31,684 DEBUG SQL:104 - 
    insert 
    into
        FILTER_HQL_PERSON
        (name, SEX_CODE, ID) 
    values
        (?, ?, ?)
14:12:31,685 DEBUG QueryTranslatorImpl:265 - parse() - HQL: delete org.hibernate.test.filter.hql.Person
14:12:31,712 DEBUG QueryTranslatorImpl:283 - --- HQL AST ---
 \-[DELETE] Node: 'delete'
    \-[FROM] Node: 'FROM'
       \-[RANGE] Node: 'RANGE'
          \-[DOT] Node: '.'
             +-[DOT] Node: '.'
             |  +-[DOT] Node: '.'
             |  |  +-[DOT] Node: '.'
             |  |  |  +-[DOT] Node: '.'
             |  |  |  |  +-[IDENT] Node: 'org'
             |  |  |  |  \-[IDENT] Node: 'hibernate'
             |  |  |  \-[IDENT] Node: 'test'
             |  |  \-[IDENT] Node: 'filter'
             |  \-[IDENT] Node: 'hql'
             \-[IDENT] Node: 'Person'

14:12:31,712 DEBUG ErrorCounter:82 - throwQueryException() : no errors
14:12:31,712 DEBUG FromElement:157 - FromClause{level=1} : org.hibernate.test.filter.hql.Person (<no alias>) -> person0_
14:12:31,713 DEBUG DeleteStatement:73 - getWhereClause() : Creating a new WHERE clause...
14:12:31,713 DEBUG QueryTranslatorImpl:252 - --- SQL AST ---
 \-[DELETE] DeleteStatement: 'delete'  querySpaces (FILTER_HQL_PERSON)
    +-[FROM] FromClause: 'FROM' FromClause{level=1, fromElementCounter=1, fromElements=1, fromElementByClassAlias=[], fromElementByTableAlias=[person0_], fromElementsByPath=[], collectionJoinFromElementsByPath=[], impliedElements=[]}
    |  \-[FROM_FRAGMENT] FromElement: 'FILTER_HQL_PERSON' FromElement{explicit,not a collection join,not a fetch join,fetch non-lazy properties,classAlias=null,role=null,tableName=FILTER_HQL_PERSON,tableAlias=person0_,origin=null,columns={,className=org.hibernate.test.filter.hql.Person}}
    \-[WHERE] SqlNode: 'WHERE'
       \-[SQL_TOKEN] SqlFragment: 'SEX_CODE = ?'

14:12:31,713 DEBUG ErrorCounter:82 - throwQueryException() : no errors
14:12:31,713 DEBUG ErrorCounter:82 - throwQueryException() : no errors
14:12:31,713 DEBUG SQL:104 - 
    delete 
    from
        FILTER_HQL_PERSON 
    where
        SEX_CODE = ?
14:12:31,714 DEBUG QueryTranslatorImpl:265 - parse() - HQL: delete org.hibernate.test.filter.hql.Person
14:12:31,715 DEBUG QueryTranslatorImpl:283 - --- HQL AST ---
 \-[DELETE] Node: 'delete'
    \-[FROM] Node: 'FROM'
       \-[RANGE] Node: 'RANGE'
          \-[DOT] Node: '.'
             +-[DOT] Node: '.'
             |  +-[DOT] Node: '.'
             |  |  +-[DOT] Node: '.'
             |  |  |  +-[DOT] Node: '.'
             |  |  |  |  +-[IDENT] Node: 'org'
             |  |  |  |  \-[IDENT] Node: 'hibernate'
             |  |  |  \-[IDENT] Node: 'test'
             |  |  \-[IDENT] Node: 'filter'
             |  \-[IDENT] Node: 'hql'
             \-[IDENT] Node: 'Person'

14:12:31,715 DEBUG ErrorCounter:82 - throwQueryException() : no errors
14:12:31,715 DEBUG FromElement:157 - FromClause{level=1} : org.hibernate.test.filter.hql.Person (<no alias>) -> person0_
14:12:31,715 DEBUG QueryTranslatorImpl:252 - --- SQL AST ---
 \-[DELETE] DeleteStatement: 'delete'  querySpaces (FILTER_HQL_PERSON)
    \-[FROM] FromClause: 'FROM' FromClause{level=1, fromElementCounter=1, fromElements=1, fromElementByClassAlias=[], fromElementByTableAlias=[person0_], fromElementsByPath=[], collectionJoinFromElementsByPath=[], impliedElements=[]}
       \-[FROM_FRAGMENT] FromElement: 'FILTER_HQL_PERSON' FromElement{explicit,not a collection join,not a fetch join,fetch non-lazy properties,classAlias=null,role=null,tableName=FILTER_HQL_PERSON,tableAlias=person0_,origin=null,columns={,className=org.hibernate.test.filter.hql.Person}}

14:12:31,715 DEBUG ErrorCounter:82 - throwQueryException() : no errors
14:12:31,715 DEBUG ErrorCounter:82 - throwQueryException() : no errors
14:12:31,715 DEBUG SQL:104 - 
    delete 
    from
        FILTER_HQL_PERSON
14:12:31,716  INFO CustomRunner:139 - Test: testBasicFilteredHqlUpdate
14:12:31,717 DEBUG SQL:104 - 
    insert 
    into
        FILTER_HQL_PERSON
        (name, SEX_CODE, ID) 
    values
        (?, ?, ?)
14:12:31,717 DEBUG SQL:104 - 
    insert 
    into
        FILTER_HQL_PERSON
        (name, SEX_CODE, ID) 
    values
        (?, ?, ?)
14:12:31,718 DEBUG QueryTranslatorImpl:265 - parse() - HQL: update org.hibernate.test.filter.hql.Person p set p.name = 'Shawn'
14:12:31,720 DEBUG QueryTranslatorImpl:283 - --- HQL AST ---
 \-[UPDATE] Node: 'update'
    +-[FROM] Node: 'FROM'
    |  \-[RANGE] Node: 'RANGE'
    |     +-[DOT] Node: '.'
    |     |  +-[DOT] Node: '.'
    |     |  |  +-[DOT] Node: '.'
    |     |  |  |  +-[DOT] Node: '.'
    |     |  |  |  |  +-[DOT] Node: '.'
    |     |  |  |  |  |  +-[IDENT] Node: 'org'
    |     |  |  |  |  |  \-[IDENT] Node: 'hibernate'
    |     |  |  |  |  \-[IDENT] Node: 'test'
    |     |  |  |  \-[IDENT] Node: 'filter'
    |     |  |  \-[IDENT] Node: 'hql'
    |     |  \-[IDENT] Node: 'Person'
    |     \-[ALIAS] Node: 'p'
    \-[SET] Node: 'set'
       \-[EQ] Node: '='
          +-[DOT] Node: '.'
          |  +-[IDENT] Node: 'p'
          |  \-[IDENT] Node: 'name'
          \-[QUOTED_STRING] Node: ''Shawn''

14:12:31,721 DEBUG ErrorCounter:82 - throwQueryException() : no errors
14:12:31,744 DEBUG FromElement:157 - FromClause{level=1} : org.hibernate.test.filter.hql.Person (p) -> person0_
14:12:31,744 DEBUG FromReferenceNode:74 - Resolved : p -> ID
14:12:31,744 DEBUG DotNode:599 - getDataType() : name -> org.hibernate.type.StringType@2dc8de40
14:12:31,745 DEBUG FromReferenceNode:74 - Resolved : p.name -> name
14:12:31,745 DEBUG UpdateStatement:73 - getWhereClause() : Creating a new WHERE clause...
14:12:31,745 DEBUG QueryTranslatorImpl:252 - --- SQL AST ---
 \-[UPDATE] UpdateStatement: 'update'  querySpaces (FILTER_HQL_PERSON)
    +-[FROM] FromClause: 'FROM' FromClause{level=1, fromElementCounter=1, fromElements=1, fromElementByClassAlias=[p], fromElementByTableAlias=[person0_], fromElementsByPath=[], collectionJoinFromElementsByPath=[], impliedElements=[]}
    |  \-[FROM_FRAGMENT] FromElement: 'FILTER_HQL_PERSON' FromElement{explicit,not a collection join,not a fetch join,fetch non-lazy properties,classAlias=p,role=null,tableName=FILTER_HQL_PERSON,tableAlias=person0_,origin=null,columns={,className=org.hibernate.test.filter.hql.Person}}
    +-[SET] SqlNode: 'set'
    |  \-[EQ] BinaryLogicOperatorNode: '='
    |     +-[DOT] DotNode: 'name' {propertyName=name,dereferenceType=ALL,propertyPath=name,path=p.name,tableAlias=person0_,className=org.hibernate.test.filter.hql.Person,classAlias=p}
    |     |  +-[ALIAS_REF] IdentNode: 'ID' {alias=p, className=org.hibernate.test.filter.hql.Person, tableAlias=person0_}
    |     |  \-[IDENT] IdentNode: 'name' {originalText=name}
    |     \-[QUOTED_STRING] LiteralNode: ''Shawn''
    \-[WHERE] SqlNode: 'WHERE'
       \-[SQL_TOKEN] SqlFragment: 'SEX_CODE = ?'

14:12:31,745 DEBUG ErrorCounter:82 - throwQueryException() : no errors
14:12:31,745 DEBUG ErrorCounter:82 - throwQueryException() : no errors
14:12:31,746 DEBUG SQL:104 - 
    update
        FILTER_HQL_PERSON 
    set
        name='Shawn' 
    where
        SEX_CODE = ?
14:12:31,746 DEBUG SQL:104 - 
    delete 
    from
        FILTER_HQL_PERSON
14:12:31,747  INFO SchemaExport:343 - HHH000227: Running hbm2ddl schema export
14:12:31,748 DEBUG SchemaExport:353 - Import file not found: /import.sql
14:12:31,748 DEBUG SQL:104 - 
    drop table FILTER_HQL_PERSON if exists
14:12:31,748  INFO SchemaExport:405 - HHH000230: Schema export complete
14:12:31,748  INFO DriverManagerConnectionProviderImpl:162 - HHH000030: Cleaning up connection pool [jdbc:h2:mem:db1;DB_CLOSE_DELAY=-1;MVCC=TRUE]
]]></system-out>
  <system-err><![CDATA[]]></system-err>
</testsuite>
