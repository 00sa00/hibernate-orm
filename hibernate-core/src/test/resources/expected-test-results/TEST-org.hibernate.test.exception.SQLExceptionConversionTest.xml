<?xml version="1.0" encoding="UTF-8"?>
<testsuite errors="0" failures="0" hostname="dhcp-10.15.208.168.stl.redhat.com" name="org.hibernate.test.exception.SQLExceptionConversionTest" tests="2" time="0.043" timestamp="2013-02-28T20:12:25">
  <properties />
  <testcase classname="org.hibernate.test.exception.SQLExceptionConversionTest" name="testBadGrammar" time="0.002" />
  <testcase classname="org.hibernate.test.exception.SQLExceptionConversionTest" name="testIntegrityViolation" time="0.001" />
  <system-out><![CDATA[14:12:25,803  INFO CustomRunner:132 - BeforeClass: org.hibernate.test.exception.SQLExceptionConversionTest
14:12:25,805  INFO Configuration:706 - HHH000221: Reading mappings from resource: org/hibernate/test/exception/User.hbm.xml
14:12:25,810  INFO Configuration:706 - HHH000221: Reading mappings from resource: org/hibernate/test/exception/Group.hbm.xml
14:12:25,817  INFO DriverManagerConnectionProviderImpl:99 - HHH000402: Using Hibernate built-in connection pool (not for production use!)
14:12:25,818  INFO DriverManagerConnectionProviderImpl:135 - HHH000115: Hibernate connection pool size: 5
14:12:25,818  INFO DriverManagerConnectionProviderImpl:138 - HHH000006: Autocommit mode: false
14:12:25,818  INFO DriverManagerConnectionProviderImpl:153 - HHH000401: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db1;DB_CLOSE_DELAY=-1;MVCC=TRUE]
14:12:25,818  INFO DriverManagerConnectionProviderImpl:158 - HHH000046: Connection properties: {user=sa}
14:12:25,820  INFO Dialect:103 - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
14:12:25,820  INFO LobCreatorBuilder:94 - HHH000423: Disabling contextual LOB creation as JDBC driver reported JDBC version [3] less than 4
14:12:25,820  INFO TransactionFactoryInitiator:66 - HHH000399: Using default transaction strategy (direct JDBC transactions)
14:12:25,821  INFO ASTQueryTranslatorFactory:48 - HHH000397: Using ASTQueryTranslatorFactory
14:12:25,821  WARN CachingRegionFactory:58 - CachingRegionFactory should be only used for testing.
14:12:25,830  INFO SchemaExport:343 - HHH000227: Running hbm2ddl schema export
14:12:25,832 DEBUG SchemaExport:353 - Import file not found: /import.sql
14:12:25,833 DEBUG SQL:104 - 
    alter table T_MEMBERSHIP 
        drop constraint FK94300CA11F27FDE5
14:12:25,833 ERROR SchemaExport:425 - HHH000389: Unsuccessful: alter table T_MEMBERSHIP drop constraint FK94300CA11F27FDE5
14:12:25,833 ERROR SchemaExport:426 - Table "T_MEMBERSHIP" not found; SQL statement:

    alter table T_MEMBERSHIP 
        drop constraint FK94300CA11F27FDE5 [42102-145]
14:12:25,833 DEBUG SQL:104 - 
    alter table T_MEMBERSHIP 
        drop constraint FK94300CA1100F8BEF
14:12:25,833 ERROR SchemaExport:425 - HHH000389: Unsuccessful: alter table T_MEMBERSHIP drop constraint FK94300CA1100F8BEF
14:12:25,833 ERROR SchemaExport:426 - Table "T_MEMBERSHIP" not found; SQL statement:

    alter table T_MEMBERSHIP 
        drop constraint FK94300CA1100F8BEF [42102-145]
14:12:25,834 DEBUG SQL:104 - 
    drop table T_GROUP if exists
14:12:25,834 DEBUG SQL:104 - 
    drop table T_MEMBERSHIP if exists
14:12:25,834 DEBUG SQL:104 - 
    drop table T_USER if exists
14:12:25,834 DEBUG SQL:104 - 
    create table T_GROUP (
        group_id bigint generated by default as identity,
        name varchar(255),
        primary key (group_id)
    )
14:12:25,834 DEBUG SQL:104 - 
    create table T_MEMBERSHIP (
        user_id bigint not null,
        group_id bigint not null,
        primary key (user_id, group_id)
    )
14:12:25,835 DEBUG SQL:104 - 
    create table T_USER (
        user_id bigint generated by default as identity,
        user_name varchar(255),
        primary key (user_id)
    )
14:12:25,835 DEBUG SQL:104 - 
    alter table T_MEMBERSHIP 
        add constraint FK94300CA11F27FDE5 
        foreign key (group_id) 
        references T_GROUP
14:12:25,836 DEBUG SQL:104 - 
    alter table T_MEMBERSHIP 
        add constraint FK94300CA1100F8BEF 
        foreign key (user_id) 
        references T_USER
14:12:25,836  INFO SchemaExport:405 - HHH000230: Schema export complete
14:12:25,837  WARN SessionFactoryImpl:1554 - HHH000008: JTASessionContext being used with JDBCTransactionFactory; auto-flush will not operate correctly with getCurrentSession()
14:12:25,837  INFO CustomRunner:139 - Test: testBadGrammar
14:12:25,838 DEBUG SQL:104 - 
    SELECT
        user_id,
        user_name 
    FROM
        tbl_no_there
14:12:25,839  WARN SqlExceptionHelper:143 - SQL Error: 42102, SQLState: 42S02
14:12:25,839 ERROR SqlExceptionHelper:144 - Table "TBL_NO_THERE" not found; SQL statement:
SELECT user_id, user_name FROM tbl_no_there [42102-145]
14:12:25,839  INFO CustomRunner:139 - Test: testIntegrityViolation
14:12:25,841 DEBUG SQL:104 - 
    INSERT 
    INTO
        T_MEMBERSHIP
        (user_id, group_id) 
    VALUES
        (?, ?)
14:12:25,841  WARN SqlExceptionHelper:143 - SQL Error: 23002, SQLState: 23002
14:12:25,841 ERROR SqlExceptionHelper:144 - Referential integrity constraint violation: "FK94300CA11F27FDE5: PUBLIC.T_MEMBERSHIP FOREIGN KEY(GROUP_ID) REFERENCES PUBLIC.T_GROUP(GROUP_ID)"; SQL statement:
INSERT INTO T_MEMBERSHIP (user_id, group_id) VALUES (?, ?) [23002-145]
14:12:25,842  INFO SchemaExport:343 - HHH000227: Running hbm2ddl schema export
14:12:25,842 DEBUG SchemaExport:353 - Import file not found: /import.sql
14:12:25,842 DEBUG SQL:104 - 
    alter table T_MEMBERSHIP 
        drop constraint FK94300CA11F27FDE5
14:12:25,843 DEBUG SQL:104 - 
    alter table T_MEMBERSHIP 
        drop constraint FK94300CA1100F8BEF
14:12:25,843 DEBUG SQL:104 - 
    drop table T_GROUP if exists
14:12:25,843 DEBUG SQL:104 - 
    drop table T_MEMBERSHIP if exists
14:12:25,843 DEBUG SQL:104 - 
    drop table T_USER if exists
14:12:25,843  INFO SchemaExport:405 - HHH000230: Schema export complete
14:12:25,844  INFO DriverManagerConnectionProviderImpl:162 - HHH000030: Cleaning up connection pool [jdbc:h2:mem:db1;DB_CLOSE_DELAY=-1;MVCC=TRUE]
]]></system-out>
  <system-err><![CDATA[]]></system-err>
</testsuite>
